# Pentest BR - !!! EM CONSTRU√á√ÉO !!!
Este √© um compilado de todas as minhas anota√ß√µes, dicas pessoais e refer√™ncias afim de criar um guia brazuca de pentest üòôüíª

by: [@acauatunari](https://about.me/acauatunari) - hacker ind√≠gena apaixonado por ci√™ncia e tecnologia.

## Sum√°rio 
0. Conceitos B√°sicos 
   - [O que √© pentest?](https://github.com/acauatunari/pentestBR#--o-que-%C3%A9-pentest)
   - [Tipos de pentest](https://github.com/acauatunari/pentestBR#--tipos-de-pentest)
   - [Fases de um pentest](https://github.com/acauatunari/pentestBR#--fases-de-um-pentest-gen%C3%A9rico)
   - [Pentest em hardware (hardware hacking)](https://github.com/acauatunari/pentestBR#--pentest-em-hardware-hardware-hacking)
   - [Pentest f√≠sico (e engenharia social)](https://github.com/acauatunari/pentestBR#--pentest-f%C3%ADsico-e-engenharia-social)
   - [NDA (Non-Disclosure Agreement)]()
   - Relat√≥rio
1. Footprinting
   - O que √© 
   - Fontes de pesquisa 
   - T√©cnicas
   - Ferramentas 

## 00 - Alguns trechos do O Manifesto Hacker - The Mentor. 

>> <p align=justify>E ent√£o aconteceu‚Ä¶ uma porta aberta para um mundo‚Ä¶ correndo atrav√©s da linha telef√¥nica como hero√≠na pelas veias de um viciado, um pulso eletr√¥nico √© enviado, um ref√∫gio contra as incompet√™ncias do dia-a-dia √© solicitado‚Ä¶ uma placa √© encontrada. N√≥s buscamos conhecimento‚Ä¶ e voc√™s nos chamam de criminosos.</p>

>> <p align=justify>N√≥s existimos sem cor de pele, sem nacionalidade, sem preconceito religioso‚Ä¶ e voc√™s nos chamam de criminosos. Voc√™ constr√≥i bombas at√¥micas, voc√™ empreende guerras, voc√™ assassina, engana, e mente para n√≥s e tentam nos fazer acreditar que √© para o nosso pr√≥prio bem, contudo n√≥s somos os criminosos.</p>

>> <p align=justify>Sim, eu sou um criminoso. Meu crime √© o da curiosidade. Meu crime √© o de julgar as pessoas pelo que elas dizem e pensam, n√£o pelo o que aparentam. Meu crime √© o de ser mais esperto que voc√™, algo pelo qual voc√™ nunca vai me perdoar. Eu sou um hacker e este √© o meu manifesto. Voc√™ pode parar este indiv√≠duo, mas voc√™ n√£o pode parar todos n√≥s‚Ä¶ afinal, somos todos parecidos.</p>

## 01 - Conceitos B√°sicos 
### - O que √© pentest? 
![alt text](https://github.com/acauatunari/pentestBR/blob/main/img/pentest.png)
<p align=justify>(Do ingl√™s penetration test) √© um m√©todo para avaliar a seguran√ßa de computadores, aplica√ß√µes ou redes simulando um ataque cibern√©tico criminoso. Este ataque pode ser tanto de fora pra dentro quanto de dentro pra fora (explicarei melhor na sess√£o "Tipos de pentest"). Esta simula√ß√£o de ataque hacker envolve uma busca por vulnerabilidades que podem representar um risco em potencial para o sistema, ao serem exploradas elas devem ajudar o pentester (profissional de seguran√ßa de conduz o pentest) a comprometer o sistema. Ao final da simula√ß√£o de ataque, o pentest faz um relat√≥rio apresentando todas as vulnerabilidades encontradas no sistema, hardware ou redes de computadores, assim tamb√©m como suas respectivas poss√≠veis solu√ß√µes. O relat√≥rio √© apresentado para a equipe de seguran√ßa de institui√ß√£o/empresa, a mesma ser√° respons√°vel por implementar as medidas de seguran√ßa apontadas no relat√≥rio pelo pentester afim de corrigir as vulnerabilidades.</p> 

>> <p align=justify>Penetration testing ou pentest (traduzido como teste de intrus√£o ou teste de penetra√ß√£o) √© uma bateria de testes metodol√≥gicos normalmente aplicados em redes de computadores e sistemas operacionais, podendo ser direcionados tamb√©m a websites, redes sem fio, bancos de dados, aplicativos e programas, com o objetivo de descobrir, mapear e expor todas as poss√≠veis vulnerabilidades. - MORENO, Daniel. Introdu√ß√£o ao Pentest. 1¬∫ Ed. S√£o Paulo: Novatec, 2015.</p>
   
### - Tipos de pentest
![alt text](https://github.com/acauatunari/pentestBR/blob/main/img/tipos%20de%20pentest.png)
<p align=justify>No mundo real um invasor externo √† institui√ß√£o/empresa que n√£o possui nenhum conhecimento pr√©vio da infraestrutura da empresa pode executar o ataque, mas tamb√©m h√° a possibilidade de um funcion√°rio insatisfeito (e que possui conhecimento da infra da empresa) desejar vingan√ßa e arquitetar um ataque criminoso. √â justamente para simular todos esses cen√°rios diferentes que existem diferentes tipos de pentest.</p>

[//]: <> (--- BLACK-BOX PENTEST ---.)
<p align=justify> BLACK BOX: O pentest black box √© quando o pentester n√£o possui nenhum conhecimento pr√©vio da infraestrutura do seu alvo, ou seja, as m√°quinas, servidores e os modelos dos seus componentes, os servi√ßos que est√£o rodando na rede, as portas abertas e fechadas e o pr√≥prio mapeamento da rede, emails e afins. Tamb√©m √© chamado de teste as cegas. Este tipo de pentest simula justamente um cyber ataque onde o criminoso n√£o possui nenhum conhecimento pr√©vio de seu alvo. Segundo Daniel Moreno, em sua Obra Introdu√ß√£o ao Pentest, o pentest black box √© sub categorizado em:</p>

1. Blind: Quando o pentester n√£o tem nenhuma informa√ß√£o da infraestrutura interna de seu alvo, por√©m o alvo sabe que ser√° atacado e quais testes que ser√£o utilizados</br>
2. Double Blind: O pentester n√£o tem nenhuma informa√ß√£o da infraestrutura interna de seu alvo e o alvo n√£o sabe que ser√° atacado.</br>

>> <p align=justify>Esse cen√°rio ser√° o mais t√≠pico quando uma empresa sofrer um ataque de invas√£o externo, pois a maioria dos invasores ter√° vindo de fora da rede e n√£o        ter√° conhecimento da infraestrutura. Os aspirantes a hackers executam scripts automatizados para determinar falhas e vulnerabilidades, e saem a seu bel-prazer enumerando as redes que encontram. Por uma quest√£o de sorte, acabam encontrando uma rede falha e mal configurada que permite a sua invas√£o. - MORENO, Daniel. Introdu√ß√£o ao Pentest. 1¬∫ Ed. S√£o Paulo: Novatec, 2015.</p>

[//]: <> (--- WHITE-BOX PENTEST ---.)
<p align=justify>WHITE BOX: Neste m√©todo o pentester tem total conhecimento da infraestrutura de seu alvo, ele saber√° como a rede √© mapeada, quais endere√ßos IP s√£o utilizados, modelos dos desportivos, c√≥digo fonte da aplica√ß√£o, servidores, portas abertas, servi√ßos rodando e afins. Este m√©todo tem como objetivo justamente simular um ataque interno √† institui√ß√£o/empresa, seja por um funcion√°rio que foi demitido e agora quer vingan√ßa ou por um funcion√°rio que por meio de t√©cnicas de engenharia social foi comprometido e levado auxiliar o criminoso. Ainda segundo Moreno, h√° duas subcategorias dentro do pentest white box:</p>

1. Tandem: Quando o pentester tem todas as informa√ß√µes de seu alvo e o alvo sabe que ser√° atacado e quais m√©todos e testes ser√£o utilizados.</br>
2. Reversal: Aqui o pentester tem todas as informa√ß√µes de seu alvo, por√©m seu alvo n√£o sabe que ser√° atacado. </br>

>> <p align=justify>A metodologia white-box √© mais espec√≠fica e detalhada do que a black-box, visto que o auditor ter√° acesso a toda e qualquer informa√ß√£o da rede. Dessa    forma, poder√° elaborar um plano de ataque de maneira muito mais detalhada e efetiva. [...] Obviamente, em testes white-box, o tempo e o custo s√£o bem maiores do que em testes black-box, mas garantem um resultado bem mais efetivo. - MORENO, Daniel. Introdu√ß√£o ao Pentest. 1¬∫ Ed. S√£o Paulo: Novatec, 2015.</p>
 
[//]: <> (--- GRAY-BOX PENTEST ---.)
<p align=justify>GRAY BOX: Em suma o pentest gray-box √© quando o pentester possui apenas algumas informa√ß√µes sobre a infraestrutura de seu alvo, apenas uma vis√£o parcial. √â uma mescla dos dois m√©todos apresentados anteriormente. Moreno diz que existe duas subcategorias no testo gray-box:</p>

1. Gray-box: O pentester tem conhecimento parcial do sistema, e o alvo sabe o que ser√° atacado e quais testes ser√£o realizados.</br>
2. Double gray-box: O pentester tem conhecimento parcial do sistema, e o alvo n√£o sabe o que ser√° atacado e nem quais testes ser√£o realizados.</br>

>> <p align=justify>Um exemplo desse cen√°rio √© um sistema web em que o auditor ter√° acesso parcial √†s informa√ß√µes (tem acesso a um usu√°rio e uma senha, por√©m n√£o tem acesso ao c√≥digo-fonte) - MORENO, Daniel. Introdu√ß√£o ao Pentest. 1¬∫ Ed. S√£o Paulo: Novatec, 2015.</p>

### - Fases de um pentest (gen√©rico)
![alt text](https://github.com/acauatunari/pentestBR/blob/main/img/fases-de-um-pentest.png)
<p align=justify>Toda tarefa para ser executada deve seguir etapas meticulosas e bem estruturadas, no pentest n√£o √© diferente. Para executar um bom pentest voc√™ deve executar uma s√©rie de etapas, respeitando cada degrau.</p> 
<p align=justify>Existem v√°rios m√©todos que dizem quais as etapas de um pentest, tais como ISSAF, WEB: NIST 800-115, WEB: OWASP, OSSTMM, PTES e etc. Estas etapas v√£o variar de acordo com os m√©todos, situa√ß√µes e at√© mesmo predile√ß√µes do pentester. O que eu irei abordar aqui √© um m√©todo gen√©rico que estrutura quais etapas um pentest deve ter. Este m√©todo √© focado apenas em did√°tica para que voc√™ possa compreender como um pentest funciona, ele N√ÉO tem como objetivo efici√™ncia e nem sequer pode ser considerado um m√©todo oficial. Talvez eu aborde explica√ß√µes de m√©todos como NIST 800-115 e PTES mais pra frente, mas por enquanto sua √∫nica necessidade √© aprender como as coisas funcionam, jovem padawan üòó.</p>

[//]: <> (--- RECONHECIMENTO ---.)
<p align=justify>RECONHECIMENTO: Nesta etapa se realiza uma pesquisa sobre o sistema, informa√ß√µes sobre o dom√≠nio, informa√ß√µes importantes nos sites e redes sociais da empresa, emails, poss√≠veis usu√°rios, IPs e etc.</p>

[//]: <> (--- VARREDURA ---.)
<p align=justify>VARREDURA: Pega as informa√ß√µes da etapa anterior e usa t√©cnicas de varredura de endere√ßos IPs e portas para identificar os servi√ßos que rodam nos servidores, procura identificar quantos computadores existem na rede, seus respectivos endere√ßos IPs, sistemas operacionais e identifica√ß√£o de algumas vulnerabilidades.</p>

[//]: <> (--- GANHANDO ACESSO ---.)
<p align=justify>GANHANDO ACESSO: Explora√ß√£o das vulnerabilidades j√° identificadas na etapa anterior para ganhar acesso ao sistema.</p>

[//]: <> (--- MANTENDO ACESSO ---.)
<p align=justify>MANTENDO ACESSO: Configura√ß√£o que facilitar√° a reconex√£o do hacker ao alvo j√° hackeado, pode ser feito por meio de um backdoor ou outras t√©cnicas.</p>
	
[//]: <> (--- AOBRINDO RASTROS ---.)
<p align=justify>COBRINDO RASTROS: Apagar logs de acesso, utilizar rootkits, ocultar arquivos, t√©cnicas anti-forense para ocultar o m√°ximo poss√≠vel a presen√ßa do hacker e suas a√ß√µes no sistema alvo.</p>

### - Pentest em hardware (Hardware Hacking)
![alt text](https://github.com/acauatunari/pentestBR/blob/main/img/pentest-em-hardware.png)
<p align=justify>Quando se fala em "hackear", geralmente o que vem √† mente √© a invas√£o de computadores por meio de contamina√ß√£o de um sistema ou programa com um malware, que √© um software malicioso. Mas o hacking vai muito al√©m disso! a pr√≥pria defini√ß√£o de "hacking" √© algo muito vasto. Uma abordagem muito comum √© definir hacking como o ato de modificar um software para que ele aja de uma forma que n√£o foi programada.</p>

<p align=justify>Mas e se eu te falasse que al√©m de modificar software, h√° a possibilidade de modificar diretamente o hardware do dispositivo? Isso mesmo, se chama Hardware hacking! O ato de hackear fechaduras eletr√¥nicas explorando diretamente o hardware! Ao inv√©s de contaminar um software com um v√≠rus voc√™ pode interagir com o dispositivo f√≠sico atrav√©s de ondas de r√°dio! E por a√≠ vai... S√£o infinitas possibilidades! O hardware hacking √© um universo enorme dentro de outro universo igualmente vasto, o hacking! Imagina utilizar dispositivos f√≠sicos bem estilo 007, devices que te permitem derrubar uma rede wi-fi, clonar fechaduras eletr√¥nicas de carro, interceptar liga√ß√µes... Este √© o mundo do hardware hacking.</p>
   
<p align=justify>Eu sou um humilde estudante e n√£o tenho muito conhecimento nessa √°rea, mas por sorte no brasil n√≥s temos uma autoridade em hardware hacking muito conhecida na comunidade, o Julio Della Flora (https://github.com/jcldf). Essa figura√ßa ministra palestras, demostra a aplica√ß√£o de t√©cnicas na pr√°tica em v√≠deos, escreve artigos e ainda 
ministra um curso completo sobre hardware hacking!</p>

<p align=justify>Eu n√£o irei me prolongar muito em discorrer sobre hardware hacking enquanto existem os conte√∫dos maravilhoso do Della Flora, ao inv√©s disso deixarei abaixo alguns links para algumas palestras e videos desse fera!</p>

[The Hack | Afinal, o que √© hardware hacking? Especialista explica tudo sobre](https://thehack.com.br/afinal-o-que-e-hardware-hacking-especialista-explica-tudo-sobre/)

[Ferramentas para Hardware Hacking - 1¬∫ Ethical Hacking Summit - #01 - Julio Della Flora](https://www.youtube.com/watch?v=cHy0vUC2wzg)

[Usando Raspberry Pi em Pentest - Cortes de Palestras](https://www.youtube.com/watch?v=mQNPZvkkChw)

[Invadindo Cadeados e Fechaduras Eletr√¥nicas](https://www.youtube.com/watch?v=yXJusRZEYSI)

[O que um HACKER leva em sua mala? # Dispositivos e Hardwares Hacker (ft Juliodellaflora)](https://www.youtube.com/watch?v=aBYOedssgpY)

[Abrindo CARROS com o HACKRF - CORTES DE PALESTRAS](https://www.youtube.com/watch?v=-uVHLX0RmN8)

### - Pentest f√≠sico (e engenharia social)
![alt text](https://github.com/acauatunari/pentestBR/blob/main/img/pentest-fisico.png)
<p align=justify>Que tal deixarmos as coisas ainda mais underground? J√° falamos em quebrar a seguran√ßa de um sistema hackeando o software ou explorando as vulnerabilidades diretamente no hardware! Mas pense comigo, se uma empresa possui os melhores protocolos de seguran√ßa tanto para os seus softwares e hardwares, onde est√° o elo fraco? Nenhum sistema est√° a salvo! Tudo √© hackeavel! Se n√£o pudermos invadir o sistema remotamente ent√£o iremos fisicamente at√© o servidor! Isso mesmo, em carne em osso! Iremos invadir a empresa, burlas fechaduras f√≠sicas, enganar os seguran√ßas, desativar ou desviar das c√¢meras, roubar equipamentos e papelada, destruir os alvos com fogo haha!.</p>

<p align=justify>Isto se chama pentest f√≠sico, o ato de invadir fisicamente um sistema! Quando falamos em seguran√ßa cibern√©tica √© muito comum falarmos em hardening, antiv√≠rus, firewalls, criptografia... Mas o que acontece se um indiv√≠duo entrar fisicamente em uma empresa e incendiar uma sala ou roubar papelada e devices com informa√ß√µes confidenciais? √â necess√°rio ter protocolos de seguran√ßa para se proteger das amea√ßas f√≠sicas!</p>

<p align=justify>Respondendo a pergunta sobre o elo mais fraco de um sistema: Quando tudo est√° perfeitamente configurado, o elo mais fraco da seguran√ßa de um sistema, e sempre falho, √© o ser humano! Ent√£o iremos hackear os humanos! seus funcion√°rios e demais indiv√≠duos. Iremos seduzi-los, suborn√°-los ou amea√ß√°-los! (cuidado com o √∫ltimo item haha). Isso se chama engenharia social, o ato de manipular um ser humano para que ele fa√ßa coisas que normalmente n√£o faria, uma das armas do pentest f√≠sico.</p>

<p align=justify>Assim como na sess√£o anterior, n√£o irei me prolongar muito sobre pentest f√≠sico e engenharia social por que existe uma pessoa muito melhor para isso, a Engenheira Social Marina Ciavatta (https://www.instagram.com/marinaciavatta/) uma espi√£ que em poucos minutos de conversa descobre todos os teus segredos haha, sem d√∫vidas uma profissional sem igual.</p>

<p align=justify>Abaixo estarei deixando algumas palestras, v√≠deos e materiais da Marina, mas no pr√≥prio Instagram tem muito material massa!</p>

[Artigo traduzido: Falamos com a engenheira social Marina Ciavatta, especialista em invas√µes f√≠sicas](https://medium.com/@marinaciavatta/artigo-traduzido-falamos-com-a-engenheira-social-marina-ciavatta-especialista-em-invas%C3%B5es-f%C3%ADsicas-55ab3d8d092b)

[REDCAST #19 Engenharia Social: o per√≠metro f√≠sico da sua empresa est√° protegido?](https://www.youtube.com/watch?v=ZKmbI6zd_lQ)

[A Engenheira Social: Marina Ciavatta - Diego Collector | Samurai T√°tico](https://www.youtube.com/watch?v=zmSwiVkGEuA&t=209s)

[MARINA CIAVATTA - Engenharia Social e Hacking](https://www.youtube.com/watch?v=V6GCFsa_EJc)

### - NDA (Non-Disclosure Agreement)
![alt text](https://github.com/acauatunari/pentestBR/blob/main/img/non-disclosure-agreement.gif)

<p align=justify>Realizar um pentest em um sistema √© uma grande responsabilidade e n√£o deve ser feito por qualquer pessoa ou de qualquer forma. Al√©m de todas as quest√µes t√©cnicas, deve haver um aparato judicial tanto para o cliente (que estar√° permitindo que voc√™ ataque o seu sistema) quanto para o pr√≥prio pentester.</p>

<p align=justify>Antes de qualquer etapa ser executada, deve ser assinado do NDA (Termo de confidencialidade). Todas as informa√ß√µes levantadas durante o pentest s√£o confidenciais! Quest√µes como vulnerabilidades e bugs encontrados e demais informa√ß√µes sobre a infra interna da institui√ß√£o/empresa n√£o podem vazar! Isto √© resguardado pelo NDA. Ali√°s, o NDA tamb√©m √© um documento que prova que voc√™ tem autoriza√ß√£o de realizar testes de seguran√ßa naquele sistema, e resguarda que nenhuma de suas a√ß√µes pode ser considerada criminosa (a menos que ela n√£o esteja prevista no NDA)</p>

<p align=justify>Qual √© o escopo? O que ser√° testado durante o pentest? Todas as m√°quinas? apenas devices espec√≠ficos? Quais t√©cnicas poder√£o ser utilizadas? Poder√° ser utilizado t√©cnicas de engenharia social? Quais os limites se deve respeitar? As m√°quinas podem ser totalmente comprometidas? √â permitido que o pentest afete os servi√ßos da instiui√ß√£o/empresa? Qual o plano de comunica√ß√£o? A quem devo reportar as falhas encontradas? Em qual periodo de tempo o pentest deve ser executado? Tudo isso deve estar firmado no NDA!</p>

<p align=justify>Segue abaixo um exemplar de NDA, leia, analise, estude-o!</p>

[Ainda estou procurando um exemplar em pt!, calma l√° üòó]


